(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13278,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(72670),d=e.i(23150);function a(){let[e,a]=(0,r.useState)({fn:"",ln:"",e:"",u:"",b:"",rh:null,dh:null,th:null,ms:0}),[l,o]=(0,r.useState)({});(0,r.useEffect)(()=>{!async function(){try{let e=await s.default.makeRequest("/profile","GET");a(e)}catch(e){d.default.error("an error occurred while fetching profile",e)}}()},[]);let i=(0,r.useMemo)(()=>{if(!e.ms||e.ms<=0)return"N/A";let t=new Date(1e3*e.ms),r=new Date,s=r.getFullYear()-t.getFullYear(),d=r.getMonth()-t.getMonth(),a=r.getDate()-t.getDate();if(a<0&&(d-=1,a+=new Date(r.getFullYear(),r.getMonth(),0).getDate()),d<0&&(s-=1,d+=12),0===s&&0===d&&0===a)return"0 days";let l="";return s>0&&(l+=`${s} years, `),d>0&&(l+=`${d} months, `),(l+=`${a} days`).trim().replace(/,$/,"")},[e.ms]),n=async t=>{let r;if(t.preventDefault(),r={},e.fn?.trim()||(r.fn="First Name is required."),e.ln?.trim()||(r.ln="Last Name is required."),e.e?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.e)||(r.e="Invalid email format."):r.e="Email is required.",e.rh&&!/^u\/[a-zA-Z0-9_-]+$/.test(e.rh)&&(r.rh="Reddit handle must start with 'u/' and contain valid characters."),e.dh&&!/^[a-zA-Z0-9_-]{2,32}#[0-9]{4}$/.test(e.dh)&&(r.dh="Discord handle must be in the format 'username#1234'."),e.th&&!/^@[a-zA-Z0-9_-]+$/.test(e.th)&&(r.th="X (Twitter) handle must start with '@' and contain valid characters."),o(r),0!==Object.keys(r).length)return void alert("Please fix the validation errors before saving.");let a={...e};Object.keys(a).forEach(e=>{(""===a[e]||void 0===a[e])&&(a[e]=null)});try{await s.default.makeRequest("/profile","POST",a),d.default.notify("Profile saved successfully!")}catch(e){d.default.error("an error occurred while saving profile",e)}},m=(e,t)=>{a(r=>({...r,[e]:t}))};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base md:text-xl font-bold mb-2 md:mb-3 text-foreground",children:"Profile"}),(0,t.jsxs)("form",{onSubmit:n,children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"first-name",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"First Name:"}),(0,t.jsx)("input",{id:"first-name",value:e.fn,onChange:e=>m("fn",e.target.value),className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.fn?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`}),l.fn&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.fn})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"last-name",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Last Name:"}),(0,t.jsx)("input",{id:"last-name",value:e.ln,onChange:e=>m("ln",e.target.value),className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.ln?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`}),l.ln&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.ln})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Email:"}),(0,t.jsx)("input",{id:"email",type:"email",value:e.e,onChange:e=>m("e",e.target.value),className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.e?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`}),l.e&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.e})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"username",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Username:"}),(0,t.jsx)("input",{id:"username",value:e.u,disabled:!0,readOnly:!0,className:"text-xs md:text-sm border border-input rounded-lg w-full p-1.5 md:p-2 bg-muted text-muted-foreground cursor-not-allowed"})]}),(0,t.jsxs)("div",{className:"mb-2 md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"bio",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Bio:"}),(0,t.jsx)("textarea",{id:"bio",value:e.b||"",onChange:e=>m("b",e.target.value),className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 resize-y bg-background text-foreground ${l.b?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`}),l.b&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.b})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"reddit",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Reddit Handle:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"fab fa-reddit text-[#ef2c0a] text-sm md:text-base mr-2"}),(0,t.jsx)("input",{id:"reddit",value:e.rh||"",onChange:e=>m("rh",e.target.value),placeholder:"u/username",className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.rh?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`})]}),l.rh&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.rh})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"discord",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Discord Handle:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"fab fa-discord text-[#5865F2] text-sm md:text-base mr-2"}),(0,t.jsx)("input",{id:"discord",value:e.dh||"",onChange:e=>m("dh",e.target.value),placeholder:"username#0000",className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.dh?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`})]}),l.dh&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.dh})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"twitter",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"X Handle:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"fa-brands fa-x-twitter text-foreground text-sm md:text-base mr-2"}),(0,t.jsx)("input",{id:"twitter",value:e.th||"",onChange:e=>m("th",e.target.value),placeholder:"@username",className:`text-xs md:text-sm border rounded-lg w-full p-1.5 md:p-2 transition-colors duration-200 bg-background text-foreground ${l.th?"border-destructive bg-destructive/10":"border-input focus:border-primary focus:ring-2 focus:ring-primary/20"}`})]}),l.th&&(0,t.jsx)("small",{className:"text-red-500 text-[10px] md:text-xs mt-0.5 block",children:l.th})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{htmlFor:"since",className:"block mb-1 text-xs md:text-sm font-bold text-foreground",children:"Member Since:"}),(0,t.jsx)("input",{id:"since",type:"text",value:i,disabled:!0,className:"text-xs md:text-sm border border-input rounded-lg w-full p-1.5 md:p-2 bg-muted text-muted-foreground cursor-not-allowed"})]})]}),(0,t.jsx)("button",{type:"submit",className:"hidden md:block mt-2 md:mt-3 bg-primary text-primary-foreground border-none px-4 md:px-5 py-2 md:py-2.5 text-xs md:text-sm rounded-lg cursor-pointer hover:bg-primary/90 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:"Save Profile"})]}),(0,t.jsx)("button",{type:"button",onClick:n,className:"md:hidden fixed bottom-4 right-4 z-[90] bg-primary text-primary-foreground border-none p-4 rounded-full cursor-pointer hover:bg-primary/90 active:scale-95 transition-all duration-200 shadow-2xl hover:shadow-xl font-medium","aria-label":"Save Profile",children:(0,t.jsx)("i",{className:"fas fa-save text-lg"})})]})}e.s(["default",()=>a])}]);